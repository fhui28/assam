% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/summary.assam.R
\name{summary.assam}
\alias{summary.assam}
\title{Summary for an approximate and scalable SAM object}
\usage{
\method{summary}{assam}(object, digits = 4, ...)
}
\arguments{
\item{object}{An object of class \code{assam}.}

\item{digits}{The number of significant figures to use when printing.}

\item{...}{Not used.}
}
\value{
An object of class "summary.assam" which includes the following components, not necessarily in the order below (and as appropriate):
\describe{
\item{call: }{The matched function call of \code{object}.}
\item{mixture_proportion:}{Estimated vector of mixture proportions corresponding to the probability of belonging to each archetype.}
\item{spp_intercepts:}{Estimated species-specific intercepts.}
\item{betas:}{Estimated matrix of archetypal regression coefficients corresponding to the model matrix created. The number of rows in \code{betas} is equal to the number of archetypes.}
\item{betas_results: }{If the \code{object$uncertainty_quantification = TRUE}, a summary table corresponding to archetypal regression coefficients.}
}
}
\description{
\ifelse{html}{\href{https://lifecycle.r-lib.org/articles/stages.html#experimental}{\figure{lifecycle-experimental.svg}{options: alt='[Experimental]'}}}{\strong{[Experimental]}}

Takes a fitted \code{assam} object and produces some basic summary information.
}
\details{
Currently, the function returns estimated mixture proportions, species-specific intercepts, and archetypal regression coefficients. If the \code{object$uncertainty_quantification == TRUE}, then summary tables are also produced for archetypal regression coefficients containing parametric bootstrap confidence intervals and statistical significance based off this. Note the length of the confidence intervals was determined as part of the fitting the asSAM; see \code{object$bootstrap_control$ci_alpha}.
}
\section{Warning}{
The current summary function is pretty basic (apologies!), and in the future we may add some more useful information to the summary output.
}

\examples{
\dontrun{
##----------------------
# Generate some multivariate abundance data from a SAM
##----------------------
library(tidyverse)
library(mvtnorm)
library(GGally)

set.seed(092024)

num_X <- 10
num_units <- 1000
num_spp <- 80
num_archetype <- 5
H <- outer(1:num_X, 1:num_X, "-")
H <- 0.5^abs(H)
covariate_dat <- rmvnorm(num_units, sigma = H) \%>\% 
    as.data.frame \%>\% 
    rename_with(., .fn = function(x) paste0("covariate", x))
rm(H)

true_betas <- runif(num_archetype * num_X, -1, 1) \%>\% matrix(nrow = num_archetype)
true_intercepts <- runif(num_spp, -3, 0)  
true_dispparam <- 1/runif(num_spp, 0, 5) 
true_powerparam <- runif(num_spp, 1.4, 1.8)
true_mixprop <- c(0.2, 0.25, 0.3, 0.1, 0.15)
 
 simdat <- create_samlife(family = nbinom2(), 
 formula = paste("~ ", paste0(colnames(covariate_dat), collapse = "+")) \%>\% as.formula, 
 data = covariate_dat, 
 betas = true_betas, 
 spp_intercept = true_intercepts, 
 spp_dispparam = true_dispparam, 
 spp_powerparam = true_powerparam, 
 mixture_proportion = true_mixprop,
seed = 092024)
 
 
 ##----------------------
 # Fit asSAM and assess results 
 #' **Most users should start here**
 ##----------------------
 samfit <- assam(y = simdat$y,
 formula = paste("~ ", paste0(colnames(covariate_dat), collapse = "+")) \%>\% as.formula,
 data = covariate_dat,
 family = nbinom2(),
 num_archetypes = num_archetype,
 num_cores = 8)
 
 plot(true_intercepts, samfit$spp_intercepts); abline(0,1)
 plot(true_dispparam, samfit$spp_nuisance$dispersion, log = "xy"); abline(0,1)
 #' Note estimates for the archetypal responses and mixture proportions from (as)SAMs should be 
 #' close to the corresponding true values, *up to a reordering* of the mixture component
 #' s/archetypes (since the order is essentiually arbtirary)
 rbind(true_betas, samfit$betas) \%>\% 
 t \%>\% 
 as.data.frame \%>\%
 ggpairs
 table(simdat$archetype_label, apply(samfit$posterior_probability, 1, which.max))
 
 
 samfit
 summary(samfit)
}


}
\author{
Francis K.C. Hui \href{mailto:fhui28@gmail.com}{fhui28@gmail.com}
}
